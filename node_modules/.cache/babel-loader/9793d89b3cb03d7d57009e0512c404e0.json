{"ast":null,"code":"var _jsxFileName = \"/Users/anishdevineni/Desktop/projects/spotify-project/spotify-popularity-game/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = \"YOUR_SPOTIFY_CLIENT_ID\";\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst RESPONSE_TYPE = \"token\";\nconst SCOPE = \"user-top-read\";\n\nfunction App() {\n  _s();\n\n  const [token, setToken] = useState(null);\n  const [topSongs, setTopSongs] = useState([]);\n  const [currentSongs, setCurrentSongs] = useState({\n    first: null,\n    second: null\n  });\n  const [score, setScore] = useState(0);\n  useEffect(() => {\n    const hash = window.location.hash.substring(1).split('&').reduce(function (initial, item) {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n\n      return initial;\n    }, {});\n    window.location.hash = '';\n\n    if (hash.access_token) {\n      setToken(hash.access_token);\n    }\n  }, []);\n  useEffect(() => {\n    if (token) {\n      axios.get(\"https://api.spotify.com/v1/me/top/tracks\", {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        },\n        params: {\n          limit: 50\n        }\n      }).then(response => {\n        setTopSongs(response.data.items);\n        setCurrentSongs({\n          first: response.data.items[0],\n          second: response.data.items[1]\n        });\n      }).catch(err => console.log(err));\n    }\n  }, [token]);\n\n  const pickSong = pickedSong => {\n    const nextSongIndex = topSongs.indexOf(currentSongs.second) + 1;\n    const nextSong = topSongs[nextSongIndex];\n\n    if (pickedSong.popularity > currentSongs.second.popularity) {\n      setScore(score + 1);\n    } else {\n      setScore(0);\n    }\n\n    setCurrentSongs({\n      first: currentSongs.second,\n      second: nextSong\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: !token ? /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=${SCOPE}`,\n        children: \"Login to Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Score: \", score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), currentSongs.first && currentSongs.second && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: currentSongs.first.album.images[0].url,\n              alt: currentSongs.first.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: currentSongs.first.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => pickSong(currentSongs.first),\n              children: \"Pick\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: currentSongs.second.album.images[0].url,\n              alt: currentSongs.second.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: currentSongs.second.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => pickSong(currentSongs.second),\n              children: \"Pick\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"7fwJZJAsbGhGPjAESjSj4MPGpF8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","SCOPE","App","token","setToken","topSongs","setTopSongs","currentSongs","setCurrentSongs","first","second","score","setScore","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","get","headers","params","limit","then","response","data","items","catch","err","console","log","pickSong","pickedSong","nextSongIndex","indexOf","nextSong","popularity","album","images","url","name"],"sources":["/Users/anishdevineni/Desktop/projects/spotify-project/spotify-popularity-game/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst CLIENT_ID = \"YOUR_SPOTIFY_CLIENT_ID\";\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst RESPONSE_TYPE = \"token\";\nconst SCOPE = \"user-top-read\";\n\nfunction App() {\n  const [token, setToken] = useState(null);\n  const [topSongs, setTopSongs] = useState([]);\n  const [currentSongs, setCurrentSongs] = useState({ first: null, second: null });\n  const [score, setScore] = useState(0);\n\n  useEffect(() => {\n    const hash = window.location.hash\n      .substring(1)\n      .split('&')\n      .reduce(function(initial, item) {\n        if (item) {\n          var parts = item.split('=');\n          initial[parts[0]] = decodeURIComponent(parts[1]);\n        }\n        return initial;\n      }, {});\n\n    window.location.hash = '';\n    \n    if (hash.access_token) {\n      setToken(hash.access_token);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      axios.get(\"https://api.spotify.com/v1/me/top/tracks\", {\n        headers: { 'Authorization': 'Bearer ' + token },\n        params: { limit: 50 }\n      })\n      .then(response => {\n        setTopSongs(response.data.items);\n        setCurrentSongs({ first: response.data.items[0], second: response.data.items[1] });\n      })\n      .catch(err => console.log(err));\n    }\n  }, [token]);\n\n  const pickSong = (pickedSong) => {\n    const nextSongIndex = topSongs.indexOf(currentSongs.second) + 1;\n    const nextSong = topSongs[nextSongIndex];\n    if (pickedSong.popularity > currentSongs.second.popularity) {\n      setScore(score + 1);\n    } else {\n      setScore(0);\n    }\n    setCurrentSongs({ first: currentSongs.second, second: nextSong });\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        {!token ? (\n          <a href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=${SCOPE}`}>\n            Login to Spotify\n          </a>\n        ) : (\n          <>\n            <h2>Score: {score}</h2>\n            {currentSongs.first && currentSongs.second && (\n              <div>\n                <div>\n                  <img src={currentSongs.first.album.images[0].url} alt={currentSongs.first.name} />\n                  <h2>{currentSongs.first.name}</h2>\n                  <button onClick={() => pickSong(currentSongs.first)}>Pick</button>\n                </div>\n                <div>\n                  <img src={currentSongs.second.album.images[0].url} alt={currentSongs.second.name} />\n                  <h2>{currentSongs.second.name}</h2>\n                  <button onClick={() => pickSong(currentSongs.second)}>Pick</button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}